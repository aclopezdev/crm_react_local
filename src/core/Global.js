import { Net } from "../tools/main_tools";
import { Session } from "./Session";


export const Api_conf =
{
    _local: 'http://localhost:2000/kimba_app',
    _remote: 'https://aclcode.com/kimba_app'
}

export const Global =
{
    _debug: true,
    _session: null
}
// ------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------

Global.debug_mode = ()=>
{
    return Global._debug;
}

Global.session = (conf = null)=>
{
    if(!conf) return Global._session;
    Global._session = Session.create(conf);
}

Global.clean_session = ()=>
{
    Global._session.clear();
}

Global.check_session = (api, addon, cmd, callback)=>
{
    Net.send(api, addon, cmd, {}, (resp)=>
    {
        if(callback)
            callback({session: resp.session, logged: resp.logged});
    });
}

// ------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------
